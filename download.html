<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>车载终端运维App - Android下载</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 400px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #3ddc84 0%, #2e7d32 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: white;
            font-size: 2rem;
        }
        
        h1 {
            font-size: 1.5rem;
            color: #1f2937;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .steps {
            text-align: left;
            margin: 2rem 0;
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 12px;
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .step-number {
            background: #2563eb;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.75rem;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .download-url {
            background: #f3f4f6;
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
            font-family: monospace;
            font-size: 0.85rem;
            word-break: break-all;
            color: #374151;
            position: relative;
        }
        
        .copy-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
            margin-bottom: 1rem;
            transition: background 0.2s ease;
        }
        
        .copy-btn:hover {
            background: #1d4ed8;
        }
        
        .copy-btn:active {
            transform: scale(0.98);
        }
        
        .direct-download {
            background: #10b981;
            color: white;
            text-decoration: none;
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            width: 100%;
            transition: background 0.2s ease;
        }
        
        .direct-download:hover {
            background: #059669;
            text-decoration: none;
            color: white;
        }
        
        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.85rem;
            color: #92400e;
        }
        
        .success-msg {
            display: none;
            background: #d1fae5;
            border: 1px solid #10b981;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.85rem;
            color: #065f46;
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            h1 {
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993.0001.5511-.4482.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993 0 .5511-.4482.9997-.9993.9997m11.4045-6.02l1.9973-3.4592a.416.416 0 00-.1518-.5972.416.416 0 00-.5972.1518l-2.0223 3.503C15.5902 8.2439 13.8533 7.8508 12 7.8508s-3.5902.3931-5.1333 1.0989L4.8442 5.4467a.4161.4161 0 00-.5972-.1518.416.416 0 00-.1518.5972L6.0927 9.321C3.4555 10.7725 1.8 13.3521 1.8 16.3569v.8276C1.8 18.2666 2.7334 19.2 3.8155 19.2h16.3693c1.0821 0 2.0152-.9334 2.0152-2.0155v-.8276c-.0001-3.0048-1.6555-5.5844-4.2928-7.0359"/>
            </svg>
        </div>
        
        <h1>车载终端运维App</h1>
        <p style="color: #6b7280; margin-bottom: 1.5rem;">Android版本下载</p>
        
        <div class="warning">
            ⚠️ 检测到您正在微信中访问，微信不支持直接下载APK文件
        </div>
        
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <div>点击下方"复制下载链接"按钮</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div>打开手机浏览器（如Chrome、Safari等）</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div>在浏览器地址栏粘贴链接并访问</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div>下载完成后点击安装包进行安装</div>
            </div>
        </div>
        
        <div class="download-url" id="downloadUrl">
            https://ztcx.sxgps.com/apk/cwtzs.apk
        </div>
        
        <button class="copy-btn" onclick="copyToClipboard()">
            📋 复制下载链接
        </button>
        
        <div class="success-msg" id="successMsg">
            ✅ 链接已复制到剪贴板，请在浏览器中粘贴访问
        </div>
        
        <a href="https://ztcx.sxgps.com/apk/cwtzs.apk" class="direct-download" id="directDownload">
            🚀 尝试直接下载
        </a>
        
        <p style="font-size: 0.8rem; color: #9ca3af; margin-top: 1rem;">
            版本: v2.1.0 | 大小: 25.6MB
        </p>
    </div>
    
    <script>
        function copyToClipboard() {
            const url = document.getElementById('downloadUrl').textContent;
            
            // 尝试使用现代API
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(url).then(() => {
                    showSuccess();
                }).catch(() => {
                    fallbackCopy(url);
                });
            } else {
                fallbackCopy(url);
            }
        }
        
        function fallbackCopy(text) {
            // 创建临时文本区域
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showSuccess();
            } catch (err) {
                console.error('复制失败:', err);
                alert('复制失败，请手动复制链接');
            }
            
            document.body.removeChild(textArea);
        }
        
        function showSuccess() {
            const successMsg = document.getElementById('successMsg');
            const copyBtn = document.querySelector('.copy-btn');
            
            successMsg.style.display = 'block';
            copyBtn.textContent = '✅ 已复制';
            copyBtn.style.background = '#10b981';
            
            setTimeout(() => {
                copyBtn.textContent = '📋 复制下载链接';
                copyBtn.style.background = '#2563eb';
            }, 2000);
        }
        
        // 检测用户代理
        const userAgent = navigator.userAgent.toLowerCase();
        const isWeChat = userAgent.includes('micromessenger');
        const isQQ = userAgent.includes('qq/');
        
        if (isWeChat || isQQ) {
            document.querySelector('.warning').style.display = 'block';
        } else {
            document.querySelector('.warning').style.display = 'none';
            // 如果不是在微信中，可以尝试自动下载
            setTimeout(() => {
                const directLink = document.getElementById('directDownload');
                directLink.style.background = '#2563eb';
                directLink.textContent = '🚀 立即下载';
            }, 1000);
        }
        
        // 统计点击
        document.getElementById('directDownload').addEventListener('click', function() {
            console.log('用户点击直接下载');
            // 这里可以添加统计代码
        });
    </script>
</body>
</html>